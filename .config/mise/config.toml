# :schema https://mise.jdx.dev/schema/mise.json
[tools]
neovim = "nightly"
starship = "latest"
tmux = "latest"

rust = "stable"
python = "latest"
bun = "latest"
deno = "latest"
erlang = "latest"
elixir = "latest"
go = "latest"
java = "latest" # only needed for pkl-lsp https://github.com/apple/pkl-lsp/issues/60

uv = "latest"
"pipx:poetry" = "latest" # for legacy projects

bat = "latest"
delta = "latest"
dust = "latest"
duf = "latest"
eza = "latest"
fd = "latest"
glow = "latest"
helm = "latest"
hyperfine = "latest"
jq = "latest"
just = "latest"
kubectl = "latest"
k9s = "latest"
kubeconform = "latest"
kubectx = "latest"
kubeseal = "latest"
ripgrep = "latest"
sd = "latest"
trivy = "latest"
vale = "latest"
xh = "latest"
yq = "latest"
zoxide = "latest"
glab = "latest"
rclone = "latest"
ast-grep = "latest"
carapace = "latest"
cheat = "latest"
dive = "latest"
gh = "latest"
git-lfs = "latest"
grex = "latest"
htmlq = "latest"
jless = "latest"
"cargo:navi" = "latest"
railway = "latest"
stylua = "latest"
television = "latest"
tree-sitter = "latest"
websocat = "latest"
xcbeautify = "latest"
yazi = "latest"
"aqua:nextest-rs/nextest/cargo-nextest" = "latest"
dprint = "latest"
pkl = "latest"
usage = "latest"
hk = "latest"
lefthook = "latest"
opencode = "latest"
"github:Mapika/portview" = "latest"
"pipx:pymobiledevice3" = "latest"
"pipx:visidata" = "latest"

[settings]
experimental = true
idiomatic_version_file_enable_tools = [
  "python",
  "rust",
  "elixir",
  "go",
  "node",
]

[settings.python]
compile = false
uv_venv_auto = true

[settings.pipx]
# use uvx instead of pipx
uvx = true

[settings.npm]
package_manager = "bun"

[tasks."docker:stop-all"]
description = 'Docker stop all containers'
run = """
if [ -z "$(docker ps -q)" ]; then
  echo "No running containers"
else
  echo "Stopping all running containers..."
  docker stop $(docker ps -a -q) || true
fi
"""

[tasks."docker:prune"]
description = 'Docker prune'
depends = ["docker:stop-all"]
run = """
docker system prune -f
docker image prune -a -f
docker builder prune -a -f
docker buildx prune -a -f
"""
